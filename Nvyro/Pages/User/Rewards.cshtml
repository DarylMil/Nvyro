@page
@model RewardsAddModel
@using Microsoft.AspNetCore.Identity;
@using Nvyro.Models;
@inject UserManager<ApplicationUser> userManager;
@{
    var existingUser = await userManager.GetUserAsync(User);
    ViewData["Title"] = "Rewards";
}

    <!-- Page Content -->
    <!-- Banner Starts Here -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light full-wo-footer" style="padding:0;">
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
       <a class="dashboard-button" asp-page="/User/UserDashboard"><i class="fa-solid fa-user"></i> My Profile</a>
      <a class="dashboard-button active" asp-page="/User/Rewards"><i class="fa-solid fa-coins"></i> Rewards</a>
      <a class="dashboard-button " asp-page="/OrganizerEvent/Index"><i class="fa-solid fa-calendar-days"></i> Events</a>

      <a class="dashboard-button" href="/Requests/UserRequestView">Your Requests</a>
        </div>
  </div>
</nav>
    <div class="banner header-text">
      <div class="owl-banner owl-carousel">
        <div class="banner-item-01">
          <div class="text-content">
            <h4>Best Offer</h4>
            <h2>New Arrivals On Sale</h2>
          </div>
        </div>
        <div class="banner-item-02">
          <div class="text-content">
            <h4>Flash Deals</h4>
            <h2>Get your best products</h2>
          </div>
        </div>
        <div class="banner-item-03">
          <div class="text-content">
            <h4>Last Minute</h4>
            <h2>Grab last minute deals</h2>
          </div>
        </div>
      </div>
    </div>
    <!-- Banner Ends Here -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading">
              <h2>Rewards</h2>
              <small>Points Available: @existingUser.Points</small>
            </div>
          </div>
          @foreach (var item in Model.RewardsList)
          {
          //<div class="col-md-4">
          //  <div class="product-item">
           //   <a href="#"><img src=@item.RewardPicURL alt=""></a>
           //   <div class="down-content">
           //     <a href="#"><h4>@item.RewardName</h4></a>
           //    <h6>Quantity = @item.availableQuantity</h6>
            //    <span>@item.requiredPoints</span>
            //    <form action="" method="post">
            //        <p>Enter Voucher ID : @item.RewardID to proceed:</p>
             //       <input class="form-control" asp-for="Rewards.RewardID"/>
              //      <button type="submit" id="submit" class="btn btn-primary">Redeem</button>
              //  </form>
             // </div>
           // </div>
         // </div>
         <div class="container-fluid d-flex justify-content-center">
              <div class="row mt-5">
              <div class="col-sm-4">
                <div class="card">
                <img src=@item.RewardPicURL class="card-img-top" width="100%">
                <div class="card-body pt-0 px-0">
                  <div class="d-flex flex-row justify-content-between mb-0 px-3">
                    <small class="text-muted mt-1">Reward</small>
                    <h6>@item.RewardName</h6>
                  </div>
                  <hr class="mt-2 mx-3">
                  <div class="d-flex flex-row justify-content-between px-3 pb-4">
                    <div class="d-flex flex-column"><span class="text-muted">Description</span></div>
                    <div class="d-flex flex-column"><h5 class="mb-0">@item.RewardDescription</h5></div>
                  </div>
                  <div class="d-flex flex-row justify-content-between p-3 mid">
                    <div class="d-flex flex-column"><small class="text-muted mb-1">Quantity</small><div class="d-flex flex-row"><div class="d-flex flex-column ml-1"><small class="ghj">@item.availableQuantity</small></div></div></div>
                    <div class="d-flex flex-column"><small class="text-muted mb-2">Required Points</small><div class="d-flex flex-row"><small class="ml-1">@item.requiredPoints</small></div></div>
                  </div>
                  <form action="" method="post">
                   <input type="hidden" asp-for="Rewards.RewardID" value=@item.RewardID/>
                  <div class="mx-3 mt-3 mb-2"><button type="submit" class="btn btn-danger btn-block"><small>REDEEM</small></button></div>
                  </form>
                </div>
              </div>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    <script src="js/owl.js"></script>
 